{% extends "base.html" %}

{% block content %}
<h2>Update Inventory</h2>
<form method="POST" action="{{ url_for('inventory.update_inventory', inventory_id=inventory_item.id) }}">
    <!-- Add this hidden input field -->
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
    
    <label for="product">Product:</label>
    <select id="product" name="product_id">
        {% for product in products %}
        <option value="{{ product.id }}" {% if inventory_item.product_id == product.id %}selected{% endif %}>
            {{ product.name }}
        </option>
        {% endfor %}
    </select>
    <br>

    <label for="warehouse">Warehouse:</label>
    <select id="warehouse" name="warehouse_id">
        {% for warehouse in warehouses %}
        <option value="{{ warehouse.id }}" {% if inventory_item.warehouse_id == warehouse.id %}selected{% endif %}>
            {{ warehouse.location }}
        </option>
        {% endfor %}
    </select>
    <br>

    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity" value="{{ inventory_item.quantity }}" required>
    <br>

    <button type="submit">Update Inventory</button>
</form>

<a href="{{ url_for('inventory.get_inventory') }}">Back to Inventory</a>
{% endblock %}
